package service

import (
    "github.com/remitly/tiny-logger-go/log"
    "net/http"
)

type Health struct {
}

func (Health) New() *Health {
    return &Health{}
}

func (h *Health) ReadyHandler() http.HandlerFunc {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        log.Errorf("Replace this service ready check with a custom one apropos to your service")
        http.Error(w, http.StatusText(501), 501)
    })
}

func (h *Health) AliveHandler() http.Handler {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        w.Header().Set("Content-Type", "application/json; charset=UTF-8")
        w.WriteHeader(http.StatusOK)
    })
}


