# Go API Server for {{packageName}}

{{#appDescription}}
{{{appDescription}}}
{{/appDescription}}

## Overview

Generated by: Mothra and Swagger Codegen

See:

 * https://github.com/Remitly/msgen/mothra
 * https://github.com/Remitly/swagger-codegen

- API version: {{appVersion}}{{^hideGenerationTimestamp}}
- Build date: {{generatedDate}}{{/hideGenerationTimestamp}}

{{#infoUrl}}
For more information, please visit [{{{infoUrl}}}]({{{infoUrl}}})
{{/infoUrl}}


### Running the server
To get started running the server:

```
./{{serviceName}} --help
```

Help typically looks like:

```
Usage of ./{{serviceName}}:
-a, --ALLOW_EMPTY_ENV_VAR string      allow empty environment variables (default "true")
-k, --BUGSNAG_API_KEY string          bugsnag api key
-s, --BUGSNAG_RELEASE_STAGE string    bugsnag api key (default "preprod")
-c, --CONFIG_FILE string              service config file
-e, --ENV_PREFIX string               environment prefix (default "SVC")
-p, --PORT string                     service port (default "8080")
-r, --RATE_LIMIT float                rate limit (requests/second) (default 1000)
-m, --RATE_LIMIT_EXCEEDED string      error message logged when rate limit is exceeded (default "rate limit exceeded")
    --custom-app-config-flag string   enter service specific flags here (default "12345")
-v, --verbose                         verbose (debug level) logging
pflag: help requested
```

Running the service looks like this..

```
$ ./{{serviceName}}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","t":"2019-01-29T12:58:21-08:00","msg":"{{serviceName}} starting..."}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","t":"2019-01-29T12:58:21-08:00","msg":"Serving metrics at http://0.0.0.0:8351//prometheusMetrics"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","t":"2019-01-29T12:58:21-08:00","msg":"Serving health check at http://0.0.0.0:8395//healthcheck"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","cmp":"tsm","t":"2019-01-29T12:58:21-08:00","msg":"jaegerTracingHandler configured"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","cmp":"tsm","counter":"{{serviceName}}_panics_total","t":"2019-01-29T12:58:21-08:00","msg":"panicSwallowingHandler configured"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","cmp":"tsm","maxEventsPerSecond":1000,"errorMessage":"rate limit exceeded","t":"2019-01-29T12:58:21-08:00","msg":"rateLimitedHandler configured"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","cmp":"tsm","counter":"{{serviceName}}_processed_ops_total","t":"2019-01-29T12:58:21-08:00","msg":"monitoredHandler configured"}
{"level":"info","ty":"app","v":1,"svc":"{{serviceName}}","t":"2019-01-29T12:58:21-08:00","msg":"Serving {{serviceName}} at http://0.0.0.0:8080"}
```
